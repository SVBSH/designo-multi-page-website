---
  import BaseLayout from "../layouts/BaseLayout.astro";
  import Button from "@components/Button.astro";
  import Services from "@components/Services.astro";

  import imgIlustrationPassionate from "/assets/home/desktop/illustration-passionate.svg";
  import imgIlustrationFriendly from "/assets/home/desktop/illustration-friendly.svg";
  import imgIlustrationResourceful from "/assets/home/desktop/illustration-resourceful.svg";
---

<BaseLayout title="Frontend Mentor | Designo Agency Website Challenge">
  <div class="home-page | grid">

    <div class="hero | bg-primary-peach round-lg">
      <div class="hero__content | flex flex-col">
        <h1 class="hero__heading | text-primary-white">
          Award-winning custom designs and digital branding solutions
        </h1>
        <p class="hero__text | text-primary-white">
          With over 10 years in the industry, we are experienced in creating fully responsive
          websites, app design, and engaging brand experiences. Find out more about our services.
        </p>
        <Button text="Learn more" btnType="light" />
      </div>

      <div class="img-container">
        <div class="img-container hero__img" draggable="false" />
      </div>
    </div>  
    
    <Services mainPage="true" />

    <section class="characteristics | wrapper">
      <div class="characteristics__card">
        <div class="flex flex-col">
          <h3 class="text-uppercase">Passionate</h3>
          <p>Each project starts with an in-depth brand research to ensure we only create products
            that serve a
            purpose. We merge
            art, design, and technology into exciting new solutions.
          </p>
        </div>
        <div class="characteristics__img-container"><img class="characteristics__img"
            src={imgIlustrationPassionate} alt="illustration of passion" draggable="false"></div>
      </div>
      <div class="characteristics__card">
        <div class="flex flex-col">
          <h3 class="text-uppercase">Resourceful</h3>
          <p>Everything that we do has a strategic purpose. We use an agile approach in all of our
            projects and
            value customer
            collaboration. It guarantees superior results that fulfill our clientsâ€™ needs.
          </p>
        </div>
        <div class="characteristics__img-container"><img class="characteristics__img"
            src={imgIlustrationResourceful} alt="illustration of resourceful" draggable="false">
        </div>
      </div>
      <div class="characteristics__card">
        <div class="flex flex-col">
          <h3 class="text-uppercase">Friendly</h3>
          <p>We are a group of enthusiastic folks who know how to put people first. Our success
            depends on our
            customers, and we
            strive to give them the best experience a company can provide.
          </p>
        </div>
        <div class="characteristics__img-container"><img class="characteristics__img"
            src={imgIlustrationFriendly} alt="illustration of friendliness" draggable="false"></div>
      </div>
    </section>
  </div>
</BaseLayout>

<style lang="scss">
  .home-page {
    display: grid;
    gap: 7rem;
    padding-bottom: 10rem;

    &>* {
      // outline: 2px solid red;
      ;
    }
  }

  // hero section
  .hero {
    --img-top-pos-transition: 60px;

    background-image: url('/assets/home/desktop/bg-pattern-hero-home.svg');
    background-repeat: no-repeat;
    background-position: center center;

    padding-top: 4em;
    display: grid;
    grid-template-rows: min-content auto;
    text-align: center;

    &__heading {
      max-width: 20ch;
    }

    &__text {
      max-width: 45ch;
    }

    &__content {
      grid-row: 1;
      padding-inline: .5em;
      align-items: center;
      gap: 1.25em;
    }

    .img-container {
      grid-row: 2;
      width: 100%;
    }

    &__img {
      background-image: url("/assets/home/desktop/image-hero-phone.png");
      background-repeat: no-repeat;
      min-height: 450px;
      background-position: top calc(-1 * var(--img-top-pos-transition)) center;
      margin-inline: auto;
    }
  }

  // services section
  .services {
    display: grid;

    gap: 2rem;
  }

  .service {
    position: relative;

    &__background-container {
      width: 100%;
      height: 100%;
    }

    &__background {
      object-fit: cover;
      width: inherit;
      height: inherit;
    }

    &:where(:focus-within, :hover) &__content::after {
      opacity: .7;
    }

    &__content {
      position: absolute;
      inset: 0;
      isolation: isolate;
      justify-content: center;
      align-items: center;
      gap: 1rem;

      &::after {
        border-radius: 10px;
        content: '';
        position: absolute;
        inset: 0;
        opacity: 0;
        z-index: -1;
        transition: opacity 300ms ease-out;
        background-color: var(--color-primary-peach);
      }
    }

    &__projects {
      display: block;
      display: flex;
      gap: .5rem;
      letter-spacing: 3px;

      &::after {
        display: block;
        --size: 14px;
        content: '';
        margin-block: auto;
        transform: translateY(-2px);
        width: var(--size);
        height: var(--size);
        background: url("/assets/shared/desktop/icon-right-arrow.svg") center center no-repeat;
      }
    }
  }

  // characteristics of development
  .characteristics {
    display: flex;
    flex-wrap: wrap;
    flex: 1;
    gap: 3rem;

    &__card {
      display: flex;
      flex-direction: column-reverse;
      align-items: center;
      text-align: center;
      margin: auto;

    }

    &__img-container {
      isolation: isolate;
      position: relative;
      min-width: 200px;

      &::after {
        content: '';
        position: absolute;
        inset: 0;
        z-index: -1;

        border-radius: 50%;
        background: linear-gradient(90deg,
            rgba(93, 2, 2, 0.0001) 0%,
            rgba(93, 2, 2, 0.497569) 100%);
        opacity: 0.2;
        transform: matrix(-1, 0, 0, 1, 0, 0);
        mix-blend-mode: normal;
      }
    }
  }

  @media (min-width: 768px) {
    .hero {
      background-position: center right;
    }

    .home-page {
      width: var(--page-width);
      margin: auto;
    }

    .characteristics {
      &__card {
        flex-direction: row-reverse;
        gap: 2.5rem;
        text-align: left;
      }
    }
  }

  @media (min-width: 1200px) {
    .hero {
      --img-top-pos-transition: 90px;

      padding-top: 0em;
      padding-left: 3em;
      padding-right: 1.5em;
      grid-template-columns: 2fr 1fr;
      text-align: left;

      padding-top: 2.5em;



      &__heading {
        padding-top: var(--img-top-pos-transition);
        max-width: 80ch;
      }

      &__content {
        align-items: start;
        grid-row: 1;
        grid-column: 1;
      }

      .img-container {
        grid-template-rows: auto;
        grid-row: 1;
        grid-column: 2;
      }

      &__img {
        min-width: 450px;
        min-height: 580px;
        background-position: top calc(-1 * var(--img-top-pos-transition)) center;
      }
    }

    .services {
      max-height: 640px;
      gap: 1.5rem;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;

      .service {
        min-height: 100%;

        &:nth-of-type(1) {
          grid-column: 1;
          grid-row: 1 / -1;
        }

        &:nth-of-type(2) {
          grid-column: 2;
          grid-row: 1;
          max-height: 300px;
        }

        &:nth-of-type(3) {
          grid-column: 2;
          grid-row: 2;
          max-height: 300px;
        }
      }
    }
  }

  @media (min-width: 1400px) {
    .hero {
      text-align: left;

      &__content {
        align-items: start;
      }
    }

    .characteristics {
      justify-content: space-between;

      gap: 2rem;

      &__card {
        flex-direction: column-reverse;
        gap: 2.5rem;
        max-width: 350px;
        text-align: center;
      }
    }
  }
</style>